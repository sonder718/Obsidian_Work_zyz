# Redis的数据的TTL
- Redis的TTL（Time To Live）是指**Redis中一个key的过期时间**
- Redis的TTL命令返回给定key的剩余生存时间，以秒为单位。如果key没有超时，将返回-1的整数响应。如果key不存在，则返回-2。

# 定期删除
- redis 会将每个设置了过期时间的 key 放入到一个独立的字典中，以后会**定期遍历这个字典来删除到期的 key**。
- Redis 默认**会每秒进行十次过期扫描**（100ms一次），过期扫描**不会遍历过期字典中所有的 key**，而是采用了一种简单的贪心策略。
	- 1.从过期字典中**随机** 20 个 key；
		- 假如 redis 存了几十万个 key ，每隔100ms就遍历所有的设置过期时间的 key 的话，就会给 CPU 带来很大的负载。
	- 2.删除这 20 个 key 中已经过期的 key；
	- 3.如果过期的 key 比率超过 1/4，那就重复步骤 1；

# 惰性删除
- 定期删除是集中处理，惰性删除是零散处理
- 定期删除可能会导致很多**过期key到了时间并没有被删除掉**。所以就有了惰性删除,惰性策略就是在**客户端访问这个key**的时候，redis对key的过期时间进行检查，如果过期了就立即删除，不会给你返回任何东西。