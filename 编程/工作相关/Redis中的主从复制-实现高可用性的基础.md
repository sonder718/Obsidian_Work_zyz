# 什么是高可用
- 高可用性 H.A.（High Availability）指的是通过尽量缩短因**日常维护操作**（计划）和**突发的系统崩溃**（非计划）所导致的停机时间，以提高系统和应用的可用性。 
# 应用场景
- 为了避免单点Redis服务器故障，准备多台服务器，互相连通。
	- **将数据复制多个副本保存在不同的服务器上**，连接在一起，并**保证数据是同步**的
- 即使有其中一台服务器宕机，其他服务器依然可以继续提供服务，**实现Redis的高可用**，同时实现数据冗余备份。
# 什么是主从复制
- 主从复制，是指将一台Redis服务器的数据，复制到其他的Redis服务器。前者称为**主节点**(master/leader)，后者称为**从节点**(slave/follower) ; 
	- 数据的复制是**单向**的，只能由主节点到从节点。**Master以写为主**，Slave以读为主。
	- 默认情况下，每台Redis服务器都是主节点 ;且一个主节点可以有多个从节点(或没有从节点)，但一个从节点只能有一个主节点。
# 主从复制的作用
- 读写分离：主节点写，从节点读，提高服务器的读写负载能力
- 数据冗余︰主从复制实现了数据的热备份，是持久化之外的一种数据冗余方式。
- 故障恢复︰当主节点出现问题时，可以**由从节点提供服务**，实现快速的故障恢复 ; 实际上是一种服务的冗余。
- 负载均衡︰在主从复制的基础上，配合读写分离，可以由主节点提供写服务，由从节点提供读服务（即写Redis数据时应用连接主节点，读Redis数据时应用连接从节点），分担服务器负载 ; 尤其是在写少读多的场景下，通过多个从节点分担读负载，可以大大提高Redis服务器的并发量。
- 高可用（集群）基石︰除了上述作用以外，主从复制还是哨兵和集群能够实施的基础，因此说主从复制是Redis高可用的基础。

# 主从复制缺点
-   Redis不具备自动容错和恢复功能，主机从机的宕机都会导致前端部分读写请求失败，需要等待机器重启或者手动切换前端的IP才能恢复（**也就是要人工介入**）；
-   主机宕机，宕机前有部分数据未能及时同步到从机，切换IP后还会引入数据不一致的问题，降低了系统的可用性；
-   如果多个 Slave 断线了，需要重启的时候，尽量不要在同一时间段进行重启。因为只要 Slave 启动，就会发送sync 请求和主机全量同步，当多个 Slave 重启的时候，可能会导致 Master IO 剧增从而宕机。
-   Redis 较难支持在线扩容，在集群容量达到上限时在线扩容会变得很复杂；
