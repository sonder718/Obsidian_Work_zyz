- mysql如何与redis保持**一致性**，也就是在数据更新或者数据过期时，**如何及时更新redis**

# 旁路缓存模式
- **读策略** 
	- 从缓存中读取数据；如果缓存命中，则直接返回数据；
	- 如果缓存不命中，则从数据库中查询数据；
	- 查询到数据后，将数据写入到缓存中，并且返回给用户。
- **写策略**
	- 更新数据库中的记录；删除缓存记录。
		- 写入mysql与删除key两个操作之间存在着时延，而**这段时间并没有阻塞读，客户端会读取到脏数据**
# 利用过期时间来尽量实现mysql与redis的同步
- 总体分为由客户端发起的独立的三个操作
- 步骤1：设置redis的待更新key的过期时间为1秒或10秒左右，理想情况下步骤2的执行时间会小于它。
	- 之所以要先预设过期时间，就是为了避免第3步失败，从而出现mysql与redis较长时间不一致的情况。
- 步骤2：操作mysql数据更新
- 步骤3：删除redis的缓存key