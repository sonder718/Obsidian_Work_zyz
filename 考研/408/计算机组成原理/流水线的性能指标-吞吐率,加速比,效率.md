## 流水线的性能指标-吞吐率,加速比,效率
### 吞吐率
- 吞吐率是指在单位时间内流水线所完成的**任务数量**，或是**输出结果的数量**
- **已知**
	- 一条指令分为k个阶段
	- 任务数为n(n条指令)
	- 处理完成n个任务所用的时间为Tk
- **计算**流水线吞吐率（TP） #注意
	- m是实际所用流水段的数量,f是主频
	- $TP =n/T_{k}=n/(mT)=nf/m$
![](attachments/%E6%8C%87%E4%BB%A4%E6%B5%81%E6%B0%B4%E7%BA%BF%202022-09-18%2021.42.32.excalidraw.svg)
%%[🖋 Edit in Excalidraw](attachments/%E6%8C%87%E4%BB%A4%E6%B5%81%E6%B0%B4%E7%BA%BF%202022-09-18%2021.42.32.excalidraw.md)%%
### 加速比
- **定义**
	- 完成同样一批任务，**不使用**流水线所用的时间与**使用流水线**所用的时间之比
	- 一条指令分为k个阶段,n条指令
	- T0=不使用流水线所用的时间
	- Tk=使用流水线所用的时间
	- 大于1
- **计算公式**
	- $S=T_{0}/T_k$
![](attachments/%E6%8C%87%E4%BB%A4%E6%B5%81%E6%B0%B4%E7%BA%BF%202022-09-18%2021.57.13.excalidraw.svg)
%%[🖋 Edit in Excalidraw](attachments/%E6%8C%87%E4%BB%A4%E6%B5%81%E6%B0%B4%E7%BA%BF%202022-09-18%2021.57.13.excalidraw.md)%%
### 效率
- **定义**
	- 流水线的==设备利用率==称为流水线的效率
- **根据时空图的定义**
	- 在时空图上，流水线的效率定义为以下两部分**面积之比** #注意
	- 完成n个任务占用的**时空区有效面积**
	- n个任务所用的时间与k个流水段所围成的**时空区总面积**
![](attachments/%E6%8C%87%E4%BB%A4%E6%B5%81%E6%B0%B4%E7%BA%BF%202022-09-18%2022.00.26.excalidraw.svg)
%%[🖋 Edit in Excalidraw](attachments/%E6%8C%87%E4%BB%A4%E6%B5%81%E6%B0%B4%E7%BA%BF%202022-09-18%2022.00.26.excalidraw.md)%%