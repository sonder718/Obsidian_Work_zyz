
# SISD,SIMD,MIMD的基本概念
## 单指令流单数据流(SSID)结构
- 传统串行计算机结构
	- 本书中介绍的结构
- 一个处理器,一个存储器
- 若采用指令流水线，需设置多个功能部件，采⽤多模块交叉存储器 #注意
![](attachments/Pasted%20image%2020220919155421.png)
## 单指令流多数据流(SIMD)结构
- 一个指令流同时对多个数据流进行处理(**数据级并行技术**)
	- 各指令序列只能并发、不能并行，但每条指令可同时处理很多个具有相同特征的数据
- 对**结构类似**的大量数据进行**相同处理**。一 条指令处理很多个数据
	- 对for循环处理数组最有效
		- 一条分别对16对数据运算的SIMD指令在16个ALU中运算,只需一次运算时间
	- 对case和switch效率最低
	- 某些显卡常采用SIMD，图像处理时，常对每个像素点进 行完全一样的渲染（比如加个 粉红色滤镜）
![](attachments/Pasted%20image%2020220919155629.png)

## 多指令流单数据流(MISD)结构
不存在
## 多指令流多数据流(MIMD)结构
- 是⼀种 线程级并行、甚⾄是线程级以上并⾏技术
### 共享存储多处理器系统
- **多处理器系统**/共享内存多处理器（Shared MemorymultiProcessor, SMP）
- 是**多核处理器**
	- ==⼀个==**CPU芯⽚**中包含==多个处理器==，即多个核（core）
		- ❌ #z408 只有多CPU系统才能并行和并发
		- 可以运行[[多任务操作系统]]
		- 因此通常也称为 ⽚级多处理器（Chip-Level MultiProcessing，CMP）。意思是：⼀块芯⽚上集成了多个处理器
	- 所有核共享⼀个LLC（Last-Level Cache），并共享主存储器
	- 一般采用偶数路处理器
- 各处理器之间，可以通过**LOAD/STORE**指令，访问**同⼀个主存储器**，可通过主存相互传送数据
	- 多个处理器**共享单⼀的物理地址空间** #注意
- Intel i5、i7处理器
- **分类**
	- 统一存储访问多处理器UMA
		- 访存操作:CPU通过前端总线与北桥芯片(集成了内存控制器,并与内存相连)相连
		- 每个处理器对**所有**存储单元的访问时间大致相同
			- 需解决cache一致性
	- 非统一存储访问多处理器NUMA
		- 主存被分割,导致某些访存请求更快
		- 每个CPU有独立的内存控制器,直连一部分内存(内部内存)
- **多处理器访问同一共享变量**
	- 对共享变量加锁
![](attachments/Pasted%20image%2020220919160004.png)

### 多计算机系统
- 各计算机之间，不能通过LOAD/STORE指令直接访问对⽅的存储器，只能通过“**消息传递**”(网络)相互传送数据
- eg：多台计算机组成的“分布式计算系统”
	- 由多台计算机组成，因此拥有多个处理器+多个主存储器
	- 每台计算机拥有各⾃的私有存储器，物理地址空间相互独⽴
![](attachments/Pasted%20image%2020220919160100.png)
## 向量处理器
- 一条指令的处理对象是向量
	- eg：向量处理机的LOAD指令，可以将一个向量取到向量寄存器中；加法指令，可以实现两个向量相加
	- 应用于：向量计算、大量浮点数计算，空气动力学、核物理学、巨型矩阵计算问题
- 很多超级计算机如中国的“银河” 就是向量处理器
- （SIMD思想的进阶应⽤） #注意
- 主存储器应采⽤“多个端⼝同时读取”的交叉多模块存储器
	- 要有⼤容量的、集中式的主存储器，因为主存储器⼤⼩限定了机器的解题规模
- 多个处理单元，多组“向量寄存器”
![](attachments/Pasted%20image%2020220919160145.png)

# 硬件多线程的基本概念
- 为减少线程切换过程的开销
- 必须为**每个线程提供单独的通用寄存器组,单独的程序计数器**等
- 线程切换执行激活选中的寄存器
## 细粒度多线程
- 多个线程之间==轮流交叉==执行指令
## 粗粒度多线程
- 仅一个线程出现==较大阻塞==(如cache缺失)才切换线程
## 同时多线程SMT
- 同一个时钟周期内发射多个不同线程的多条指令执行
- #注意 Intel处理器中的超线程(**Hyper-threading)是同时多线程SMT,即在单处理器**中设置了两套线程状态部件,共享高速缓存和功能部件
![](attachments/Pasted%20image%2020220919161408.png)