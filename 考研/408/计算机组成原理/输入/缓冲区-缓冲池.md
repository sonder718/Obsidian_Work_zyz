- 缓冲池(buffer pool)
	- 操作系统，会有缓冲池(buffer pool)机制，避免每次访问磁盘，以加速数据的访问。
		- 🐱InnoDB的缓冲池**缓存表数据与索引数据**，把磁盘上的数据加载到缓冲池，避免每次访问都进行磁盘IO，起到加速访问的作用
- 缓冲区的本质
	- 多个系统共用的缓冲区组成
- 缓冲池的工作方式
	- inq，outq，enq三个**缓冲队列**
	- 四种hin，sout，sin，hout**工作缓冲区**
		- 在这三种缓冲队列上申请和取出缓冲区，用于数据的读取和存储。
		- 操作完成之后再把缓冲区放回到原来的队列。
		- 是抽象出来的缓冲区，实际上还是在这三种缓冲队列上进行操作。
	- ![](attachments/Pasted%20image%2020221124151339.png)
- 对对应的缓冲队列的读写两种操作
	- ![](attachments/Pasted%20image%2020221124151715.png)
	- ![](attachments/Pasted%20image%2020221124151724.png)
- 1、收容输入：把设备输入的数据放在缓冲区中。
	- ①首先从空缓队列取出一个缓冲区当作hin工作缓冲区，hin=Get_buf(emq)。把数据装入到hin中
	- ②把得到的hin缓冲区放在inq缓冲队列inq=Put_buf(inq,hin)。供给用户程序利用
- 2、提取输入：把缓冲区的数据交给用户程序处理。
	- ①把inq缓冲队列中的数据提取到sin工作缓冲区中，sin=Get_buf(inq)。供给用户提取数据。
	- ②提取完数据之后，把sin的工作缓冲区放回到emq空缓冲队列中。emq=Put_buf(emq,sin)。
- 3：收容输出：把用户程序处理完的数据放在缓冲区中。
	- ①先用工作缓冲区hout向空缓冲队列emq申请缓冲区，得到用户处理的数据，hout=Get_buf(emq)。
	- ②hout的数据读取完毕之后，放在outq缓冲区中。Put_buf(outq,hout)供给外设读取。
- 4：提取输出：
	- ①先把要输出到设备的缓冲区中的数据放在sout工作缓冲区中。sout=Get_buf(outq)。
	- ②提取完sout的数据之后，把sout缓冲区放到空缓冲队列而emq中。emq=Put_buf(emq,sout)
