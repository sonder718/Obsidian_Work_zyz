##### 对比
- **IO端口**
	- 寄存器
- **IO接口**
	- IO端口+相应的控制逻辑

##### 什么是IO接口
- IO设备通过**设备控制器(IO控制器/IO接口)** 与主板的**系统总线**相连
	- 对比[关于通道技术](../关于通道技术.md)
- I/O 接口，或者是 `I/O 控制器`，是`主机和外设之间地交接界面`，通过接口可以`实现主机和外设之间地信息交换`。
- **主要功能**
	- ①接收和识别CPU发来的命令,如磁盘控制器能接收读、写、查找等命令;
	- ②数据交换,包括设备和控制器之间的数据传输,以及控制器和主存之间的数据传输:
	- ③标识和报告设备的状态,以供CPU处理;
	- ④地址识别;
	- ⑤数据缓冲:
	- @差错控制。
- ![](attachments/Pasted%20image%2020221118214619.png)
##### 常见IO接口
- 对比:[[IO设备分类]]
- 打印机适配器
- ==网络控制器== #注意
- 中断控制器
	- [[中断控制器]]
- #注意 磁盘驱动器==不是==IO接口
	- [外部存储器](考研/408/计算机组成原理/外部存储器.md#^cyz5ps)
##### IO接口的基础结构
- ![](attachments/IO%E6%8E%A5%E5%8F%A3-%E4%B8%BB%E6%9C%BA%E4%B8%8E%E5%A4%96%E8%AE%BE%E7%9A%84%E8%BF%9E%E6%8E%A5%202022-11-18%2021.52.58.excalidraw.svg)
%%[🖋 Edit in Excalidraw](attachments/IO%E6%8E%A5%E5%8F%A3-%E4%B8%BB%E6%9C%BA%E4%B8%8E%E5%A4%96%E8%AE%BE%E7%9A%84%E8%BF%9E%E6%8E%A5%202022-11-18%2021.52.58.excalidraw.md), and the [dark exported image](attachments/IO%E6%8E%A5%E5%8F%A3-%E4%B8%BB%E6%9C%BA%E4%B8%8E%E5%A4%96%E8%AE%BE%E7%9A%84%E8%BF%9E%E6%8E%A5%202022-11-18%2021.52.58.excalidraw.dark.svg)%%
- IO接口在**主机侧**
	- 通过I/O总线与内存、CPU相连。
	- **数据传送**(通过==数据总线==)
		- 通过数据总线,在数据缓冲寄存器与内存或CPU的寄存器之间进行数据传送。
		- **状态与控制**:  状态寄存器和控制寄存器在传送方向上是==相反==的。
			- 接口和设备的**状态信息**被记录在状态寄存器中,通过数据线将状态信息送到==CPU==。
			- **CPU**对外设的**控制命令**也通过数据线传送,一般将其送到I/O接口的==控制寄存器==。
		- 🐱I/O命令中的命令字,状态字
		- 🐱==中断类型号==通过数据线传送 #注意
			- [中断向量表](../中断向量表.md)
	- **地址与控制信号传输**
		- 接口中的==地址线==用于给出要访问的I/O接口中的寄存器的**地址**,它和读/写控制信号一起被送到I/0接口的控制逻辑部件
		- 通过==控制线==传送来的读/写信号确认是读寄存器还是写寄存器,此外控制线还会传送一些仲裁信号和握手信号。
	- **I/O控制逻辑** #注意
		- 接口中的I/O控制逻辑还要能对**控制寄存器**中的==命令字==进行译码,并将译码得到的**控制信号**通过**外设界面控制逻辑**送到**外设**
		- 同时将**数据缓冲寄存器**的数据发送到外设或从外设接收数据到数据缓冲寄存器。
		- 另外,它还要具有**收集外设状态到状态寄存器**的功能。
	- **I/O指令**
		- 对**数据缓冲寄存器、状态/控制寄存器**的访问操作是通过相应的指令来完成的,通常称这类指令为I/O指令
		- I/O指令只能在操作系统内核的底层I/O软件中使用,它们是一种==特权指令==。
-  IO接口在**设备侧**
	- 一个IO接口可以连接==多个设备==
##### IO接口的类型
- 1）按**数据传送方式**，分为==并行接口==和==串行接口==，并行接口一次传输一个字节或一个字的全部位，串行接口一次传送一位。
	- #注意 同步/异步不是数据传送方式的不同
	- 这里指的是**外设和接口一侧**的传输方式，主机和接口一侧的数据==总是并行==传输的。
	- #注意 磁盘驱动器向盘片磁道记录数据时采用==串行==方式写入
- 2）按主机访问 I/O 接口的控制方式，分为程序查询接口、中断接口和DMA接口等。
- 3）按功能选择的灵活性，分为可编程接口和不可编程接口。
[IO端口](IO端口.md)