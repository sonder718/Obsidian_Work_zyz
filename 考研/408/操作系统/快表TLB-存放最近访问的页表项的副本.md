# 快表TLB-存放最近访问的页表项的副本
## 什么是快表（TLB）
- 快表，又称==相联存储器==（TLB， translation lookaside buffer ），是一种访问速度比内存快很多的**高速缓存**（TLB不是内存！），用来存放==最近访问的页表项的副本==，可以加速地址变换的速度。与此对应，内存中的页表常称为慢表。 #z408 
## 引入快表后，地址的变换过程
- ①CPU给出逻辑地址，由某个硬件算得页号、页内偏移量，将页号与快表中的所有页号进行比较。
- ② 如果找到匹配的页号，说明要访问的页表项在快表中有副本，则直接从中取出该页对应的内存块 号，再将内存块号与页内偏移量拼接形成物理地址，最后，访问该物理地址对应的内存单元。
	- 因此， 若快表命中，则访问某个逻辑地址仅需**一次访存**即可。
- ③ 如果没有找到匹配的页号，则需要访问内存中的页表，找到对应页表项，得到页面存放的内存块 号，再将内存块号与页内偏移量拼接形成物理地址，最后，访问该物理地址对应的内存单元。因此， 若快表未命中，则访问某个逻辑地址需要**两次访存**
	- 注意：在找到页表项后，应同时将其存入快表， 以便后面可能的再次访问。但若快表已满，则必须按照一定的算法对旧的页表项进行替换
	- **两次访存**:访问页表,根据地址取数据
<!--SR:!2022-10-13,1,230-->

![](attachments/%E5%9F%BA%E6%9C%AC%E5%88%86%E9%A1%B5%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86%202022-09-27%2011.20.16.excalidraw.svg)
%%[🖋 Edit in Excalidraw](attachments/%E5%9F%BA%E6%9C%AC%E5%88%86%E9%A1%B5%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86%202022-09-27%2011.20.16.excalidraw.md)%%
### 使用快表的访问速度
![](attachments/Pasted%20image%2020220927112449.png)

### 局部性原理
![](attachments/Pasted%20image%2020220927112628.png)