### 管道通信
#### Tips
- 当缓冲区还有数据时,写进程不会往缓冲区写数据 ❌
	- 读进程从管道读数据，即便管道没被读空，**只要管道没满**，写进程就可以往管道写数据
#### 本质
- 从本质上说,管道也是一种文件
- “管道”是一个**特殊的共享文件**，又名pipe文件。其实就是在 内存中开辟一个大小**固定**的**内存缓冲区**

#### 特点
- **半双工通信**
	- 管道只能采用半双工通信，某一时间段内只能实现**单向**的传输。 #注意
	- **如何实现父子进程的互动通信**
		- 如果要实现双向同时通信，则需要设置两个管道。
- 各进程要互斥地访问管道（由操作系统实现）
- 当管道**写满**时，写进程将**阻塞**，直到读进程将管道中的数据**取走**，即可唤醒写进程。
- 当管道**读空**时，读进程将**阻塞**，直到写进程往管道中**写入**数据，即可唤醒读进程。
- 管道中的数据一旦被读出，就彻底消失。
	- 因此，当多个进程读同一个管道时，可能会错乱。

#### 怎么解决多个进程读同一个管道的问题
- ①一个管道允许多个写进程，一个读进程（2014年408真题高教社官方答案）；
- ②允许有多个写进程，多个读进程，但系统会让各个读进程**轮流**从管道中读数据（Linux 的方案）
#### 管道克服文件通信的两个问题的表现
- 限制管道的大小
	- Linux中是4KB
- 读进程可能工作的比写进程更快
	- 读空阻塞方案