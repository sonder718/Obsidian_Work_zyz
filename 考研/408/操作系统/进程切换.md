# 上下文切换
## 本质
处理机从一个进程的运行转到另一个进程的运行
## 定义
切换CPU到另一个进程需要**保存当前进程状态**并**恢复另一个进程的状态**
## 流程
- 挂起一个进程,保存CPU上下文,包括程序计数器和其他寄存器。
- 更新PCB信息。
- 把进程的PCB移入相应的队列,如就绪、在某事件阻塞等队列。
- 选择另一个进程执行,并更新其PCB。
- 跳转到新进程PCB中的程序计数器所指向的位置执行。
- 恢复处理机上下文。
## 特征
- 上下文切换只能发生在内核态 #注意

# 上下文切换的消耗

# 模式切换
- **模式切换**指用户态和内核态的切换
- 模式切换时,CPU**逻辑上可能还在执行同一个进程**,用户进程最初都运行在用户态,,因为中断进入内核态,执行完后又回到用户态**的被中断进程**
	- #注意 **并没有改变当前进程**,不是上下文切换
