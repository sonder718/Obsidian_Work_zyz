##### 什么是外部排序
- 外部排序指的是大文件的排序，即待排序的记录存储在==外存储器==上，**待排序的文件无法一次装入内存**，需要在内存和外部存储器之间进行多次数据交换，以达到排序整个文件的目的。
- 影响整体排序效率的因素主要取决于
	- ==读写外存的次数==
	- 即访问外存的次数越多，算法花费的时间就越多，效率就越低。
- 对于同一个文件来说，对其进行外部排序时访问外存的次数同==归并的次数==成正比
	- 即**归并操作的次数越多，访问外存的次数就越多** #注意 
	- ![](attachments/Pasted%20image%2020221205220704.png)
	- ![](attachments/Pasted%20image%2020221205220646.png)
		- #z408 K路归并排序树中只存在度为k,和度为0的节点,有时需要补充**虚节点**
			- 🐱 有120个初始归并段,12路归并排序,即需要添加12-(120/12)=2个虚节点
	- 对于 k-路平衡归并中 k 值得选择，**增加 k 可以减少归并的次数**，从而减少外存读写的次数，最终达到提高算法效率的目的。

##### 多路归并排序
- 多路归并排序，即将**原文件分解成多个能够一次性装人内存的部分**，分别把每一部分调入内存完成排序。然后，对**已经排序的子文件进行归并排序**
	- [归并排序](归并排序.md)
	- 核心问题是
		- 同时合并K个有序序列
- [[多路归并排序的实例-10^7个数据量的磁盘文件排序]]
##### 多路归并排序的三种实现方式
- **循环遍历**(二路归并排序的实现方式)
	- 比较所有k个数组的头一个元素，找到最小的那一个，然后取出来。我们在该最小元素所在的数组取下一个元素，然后重复前面的过程去找最小的那个。这样依次循环直到找到所有的元素。
	- 每次找一个元素都要比较k次，假设所有n个元素，其总体时间复杂度就达到了O(nk)
- 减少归并次数从而提高算法效率的方式
	- 增加 k-路平衡归并中的 k 值
		- [[败者树实现内部归并]]
	- 尽量减少初始归并段的数量 m，即**增加每个归并段的容量**；
		- [[置换-选择排序算法]]