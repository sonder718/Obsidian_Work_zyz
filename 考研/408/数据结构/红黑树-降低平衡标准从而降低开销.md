[图解：什么是红黑树？ - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/273829162)
##### tips
- 红黑树与AVL树的查找,插入,删除的时间复杂度===相同==
##### 红黑树的本质
- 红黑树的本质上是对**2-3-4树**的一种实现
	- 2-3-4树是**阶数**为4的B树
- 如何表示2-3-4树中不同的节点
	- 在二叉树的属性中加入一个**颜色属性**
##### 红黑树的五条定义
- 节点颜色有红色和黑色
- 根节点必为**黑色** #注意
	- 由于根节点的颜色可能为红,红黑树的子树==不一定==是红黑树
- 所有叶子节点都是**黑色**
	- 虚构的外部节点,null节点
- 任意节点到叶子节点经过的**黑色节点数目相同**
	- 红黑树中的红节点是和黑色父节点绑定的，在2-3树中本来就是同一层的，只有黑色节点才会在2-3树中真正**贡献高度**
	- **推论**:==根节点到叶子节点的最长路径不大于最短路径的2倍==
		- 最短路径即为**全黑节点**,至少为$h/2$
		- 最长路径必然是红+黑
		- 🐱即左右子树高度相差不超过两倍,比AVL树的平衡性弱,适合在插入删除操作多的情况下使用
	- **推论**:有n个内部节点的红黑树的==高度==$h\leq 2\log_{2}{(n+1)}$
		- 黑节点高度>=h/2
		- h/2层最少有$2^{\frac{h}{2}}-1$个节点
	- **推论**:如果红黑树所有节点是黑色的,必然是==满二叉树== #注意
	- [红黑树转换为234树的实例](考研/408/数据结构/红黑树转换为234树的实例.md)
	- [234树转换为红黑树的规则](考研/408/数据结构/234树转换为红黑树的规则.md)
- 不会有连续的**红色节点** 
	- 红黑树中体现为一黑色节点带两红色儿子，分布左右，所以也不会有连续红节点
##### 建立一棵红黑树
- 新插入红黑树的节点Z初始为==红色==
	- 234树的子节点都是红色
- **Z的父节点是黑色**
	- 无需调整
- Z是**根节点**
	- 染为黑色
- Z不是根节点且父节点是红色
	- 当做一棵度为4的**B树**进行插入
	- ![](attachments/%E7%BA%A2%E9%BB%91%E6%A0%91-%E9%99%8D%E4%BD%8E%E5%B9%B3%E8%A1%A1%E6%A0%87%E5%87%86%E4%BB%8E%E8%80%8C%E9%99%8D%E4%BD%8E%E5%BC%80%E9%94%80%202022-11-17%2016.50.12.excalidraw.svg)
%%[🖋 Edit in Excalidraw](attachments/%E7%BA%A2%E9%BB%91%E6%A0%91-%E9%99%8D%E4%BD%8E%E5%B9%B3%E8%A1%A1%E6%A0%87%E5%87%86%E4%BB%8E%E8%80%8C%E9%99%8D%E4%BD%8E%E5%BC%80%E9%94%80%202022-11-17%2016.50.12.excalidraw.md), and the [dark exported image](attachments/%E7%BA%A2%E9%BB%91%E6%A0%91-%E9%99%8D%E4%BD%8E%E5%B9%B3%E8%A1%A1%E6%A0%87%E5%87%86%E4%BB%8E%E8%80%8C%E9%99%8D%E4%BD%8E%E5%BC%80%E9%94%80%202022-11-17%2016.50.12.excalidraw.dark.svg)%%
##### 删除红黑树节点
- #注意 删除红黑树节点时可能出现旋转超过两次的情况
- 当做一棵B树,按B树的逻辑进行删除
	- [删除B树中节点](删除B树中节点.md)
- ![](attachments/%E7%BA%A2%E9%BB%91%E6%A0%91-%E9%99%8D%E4%BD%8E%E5%B9%B3%E8%A1%A1%E6%A0%87%E5%87%86%E4%BB%8E%E8%80%8C%E9%99%8D%E4%BD%8E%E5%BC%80%E9%94%80%202022-11-17%2017.01.10.excalidraw.svg)
%%[🖋 Edit in Excalidraw](attachments/%E7%BA%A2%E9%BB%91%E6%A0%91-%E9%99%8D%E4%BD%8E%E5%B9%B3%E8%A1%A1%E6%A0%87%E5%87%86%E4%BB%8E%E8%80%8C%E9%99%8D%E4%BD%8E%E5%BC%80%E9%94%80%202022-11-17%2017.01.10.excalidraw.md), and the [dark exported image](attachments/%E7%BA%A2%E9%BB%91%E6%A0%91-%E9%99%8D%E4%BD%8E%E5%B9%B3%E8%A1%A1%E6%A0%87%E5%87%86%E4%BB%8E%E8%80%8C%E9%99%8D%E4%BD%8E%E5%BC%80%E9%94%80%202022-11-17%2017.01.10.excalidraw.dark.svg)%%