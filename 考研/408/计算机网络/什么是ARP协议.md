# 什么是ARP协议
- 需要一种方法来完成**IP地址到MAC地址的映射**,这就是**地址解析协议**(Address Resolution Protocol, ARP)。
	-  无论网络层使用什么协议,在实际网络的链路上传送数据帧时,**最终必须使用硬件地址**。

- ARP工作在==网络层==
- **运行过程**
	- 主机发送信息时将包含目标IP地址的**ARP请求广播**到**局域网络上的所有主机**，并接收返回消息，以此确定**目标的物理地址**；
	- 收到返回消息后将该IP地址和物理地址存入本机**ARP缓存**中并保留一定时间，下次请求时直接查询ARP缓存以节约资源。
- **ARP欺骗**
	- 地址解析协议是建立在网络中各个主机互相信任的基础上的，局域网络上的主机可以**自主发送ARP应答消息**，其他主机收到应答报文时**不会检测该报文的真实性**就会将其记入本机ARP缓存；
	- 由此攻击者就可以向某一主机发送**伪ARP应答报文**，使其发送的信息无法到达预期的主机或到达错误的主机，这就构成了一个ARP欺骗。
- ARP命令可用于查询本机ARP缓存中IP地址和MAC地址的对应关系、添加或删除静态对应关系等。相关协议有RARP、代理ARP。NDP用于在IPv6中代替地址解析协议。
