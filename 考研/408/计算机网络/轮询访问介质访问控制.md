# tips

# 轮询协议
![](attachments/Pasted%20image%2020221008213514.png)
# 令牌传递协议
## 什么是令牌
- 一个特殊格式的MAC控制帧,不含任何信息。
- 控制信道的使用,确保**同一时刻只有一个结点独占信道**。
## 什么是令牌传递协议
- 在轮询访问中,用户不能随机地发送信息,而要通过一个集中控制的监控站,以循环方式轮询每个结点,再决定信道的分配。**当某结点使用信道时,其他结点都不能使用信道**。
- 典型的轮询访问介质访问控制协议是**令牌传递协议**,它主要用在**令牌环局域网**中。
- 在令牌传递协议中,一个令牌(Token)沿着环形总线在各结点计算机间依次传递。令牌是一个特殊的MAC控制帧,它本身并不包含信息,仅控制信道的使用,确保同一时刻只有一个站点独占信道。
- 当环上的一个站点希望传送顿时,必须等待令牌。**一旦收到令牌,站点便可启动发送帧**。帧中包括目的站点地址,以标识哪个站点应接收此帧。
- 站点只有取得令牌后才能发送数据帧,因此令牌环网<mark style="background: #FF5582A6;">不会发生碰撞</mark>。站点在发送完一帧后,应释放令牌,以便让其他站使用。
- 由于令牌在网环上是**按顺序依次传递**的,因此对所有入网计算机而言,访问权是公平的。**当计算机都不需要发送数据时,令牌就在环形网上游荡**,而需要发送数据的计算机只有在拿到该令牌后才能发送数据帧,因此不会发送冲突(因为令牌只有一个)。
## 令牌和数据的传递过程
- :1)网络空闲时,环路中只有令牌帧在循环传递。
- 2)令牌传递到有数据要发送的站点时,该站点就修改令牌中的一个标志位,并**在令牌中附加自己需要传输的数据,<mark style="background: #FF5582A6;">将令牌变成一个数据帧</mark>,然后将这个数据帧发送出去**。 #注意
- 3)数据帧沿着环路传输,接收到的站点一边转发数据,一边查看帧的目的地址。如果目的地址和自己的地址相同,那么接收站就复制该数据顿以便进一步处理。
- 4)数据帧沿着环路传输,直到到达该帧的源站点,源站点收到自己发出去的帧后便不再转发。同时,通过检验返回的顿来查看数据传输过程中是否出错,若有错则重传。
- 5)源站点**传送完数据**后,**重新产生一个令牌**,并传递给下一站点,以交出信道控制权。

## 一些注意点
- 在令牌传递网络中,传输介质的物理拓扑不必是一个环,但是为了把对介质访问的许可从个设备传递到另一个设备,**令牌在设备间的传递通路逻辑上必须是一个环。**
## 适合什么网络
- 轮询介质访问控制非常适合**负载很高的广播信道**。所谓负载很高的信道,是指**多个结点在同一时刻发送数据概率很大的信道**。
- 轮询介质访问控制既不共享时间,也不共享空间,它实际上是在随机介质访问控制的基础上,限定了有权力发送数据的结点只能有一个。即使是广播信道也可通过介质访问控制机制使广播信道逻辑上变为点对点的信道,所以说数阵路层研究的是“点到点”之间的通信

