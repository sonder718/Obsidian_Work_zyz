## CSMA/CD-先听后发-边听边发-冲突停发-随机重发
- **载波侦听多路访问/碰撞检测**(Carrier Sense Mutiple Access with <mark style="background: #FF5582A6;">Collision Detection</mark>, CSMA/CD)协议是CSMA协议的改进方案
- 适用于总线形网络或半双工网络环境。
- “载波侦听”就是发送前先侦听，即每个站在发送数据之前先要检测一下总线上是否有其他站点正在发送数据，若有则暂时不发送数据，等待信道变为空闲时再发送。
- “碰撞检测”就是**边发送边侦听**，即适配器边发送数据边检测信道上信号电压的变化情况，以便判断自己在发送数据时其他站点是否也在发送数据。
- CSMA/CD 中的站不可能同时进行发送和接收，因此采用CSMA/CD协议的以太网**只能进行半双工通信**。
### 工作流程
- CSMA/CD的工作流程可简单概括为
	- 先听后发
	- 边听边发
	- 冲突停发
	- 随机重发
- **工作流程**
	- 1)适配器从网络层获得一个分组，**封装成以太网帧**，放入适配器的缓存，准备发送。
	- 2)如果适配器侦听到信道**空闲**，那么它开始发送该帧。
	- 如果适配器侦听到**信道忙**，那么它**持续侦听**直至信道上没有信号能量，然后开始发送该帧。
	- 3)==在发送过程中==，适配器**持续检测**信道。
		- 若一直未检测到碰撞，则顺利地把这个帧发送完毕。
		- 若**检测到碰撞**，则中止数据的发送，**并发送一个拥塞信号，以让所有用户都知道**。
			- 4)==在中止发送后==，适配器就执行**指数退避算法**，==等待一段随机时间==后返回到步骤2)。 #注意 #z408 
				- #注意 达到第10次时,k永远停留在10
				- ![](attachments/%E9%9A%8F%E6%9C%BA%E8%AE%BF%E9%97%AE%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%202022-10-08%2020.57.32.excalidraw.svg)
%%[🖋 Edit in Excalidraw](attachments/%E9%9A%8F%E6%9C%BA%E8%AE%BF%E9%97%AE%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%202022-10-08%2020.57.32.excalidraw.md)%%

