# MTO工具包中的多任务优化算法
- MFEA,FP-MFEA
- AT-MFEA,FP-AT-MFEA
- MFPSO,
- MFDE,FP-MFDE
- EMEA

# [[什么是多任务优化]]
[[什么是多任务优化]]
[[MEFA与FP-MFEA]]
[[FP-MFEA]]

# 有哪些多任务优化算法
[浅谈多因子进化算法（MFEA） - 菜鸡刘 - 博客园 (cnblogs.com)](https://www.cnblogs.com/liuhuilin/p/14524026.html)

[(48条消息) 多任务进化优化算法(一)——多因子进化算法(MFEA)_晓风wangchao的博客-CSDN博客_多因子进化算法](https://blog.csdn.net/qq_40434430/article/details/102748436)

[(48条消息) 多任务进化优化算法(二) 多因子进化算法(MFEA)的理论基础、多任务贝叶斯优化以及MFEAII简介_晓风wangchao的博客-CSDN博客_多任务贝叶斯优化](https://blog.csdn.net/qq_40434430/article/details/102748981?spm=1001.2014.3001.5502)

[(48条消息) 多任务进化优化算法(三)利用显式自编码器的进化多任务、基于生物群落共生的进化多任务优化简介_晓风wangchao的博客-CSDN博客_多任务优化算法](https://blog.csdn.net/qq_40434430/article/details/117172668?spm=1001.2014.3001.5502)

[(48条消息) MFPSO&MFDE：多因子PSO与多因子DE的实证研究_贪心的葡萄的博客-CSDN博客](https://blog.csdn.net/qq_41245381/article/details/121946292)

[(48条消息) 论文研读-显式自编码器的进化多任务优化方法_武科大许志伟的博客-CSDN博客_自编码器优化](https://blog.csdn.net/u013555719/article/details/120478154)

[多任务优化|EA 不仅仅是一个优化求解器 (xiaofangxd.github.io)](https://xiaofangxd.github.io/Chao-Wang/multitasking-optimization/Multitasking-Optimization.html)


# 一些问题的回答
## 为什么要多任务优化(MTO)
现有的EA仍然存在一些缺点。一个主要的一点是，传统的EA通常从头开始解决问题，假设先验知识状态为零，并专注于一次解决一个问题[[11](https://www.mdpi.com/2227-7390/9/8/864/htm#B11-mathematics-09-00864)，[12](https://www.mdpi.com/2227-7390/9/8/864/htm#B12-mathematics-09-00864)]。然而，众所周知，现实世界的问题很少是孤立存在的，并且通常相互混合。**从过去的学习经验中提取的知识可以建设性地应用于解决更复杂或新遇到的任务。**

多任务优化的基本概念最初是由王教授[[24](https://www.mdpi.com/2227-7390/9/8/864/htm#B24-mathematics-09-00864)]引入的。与在单次运行中仅优化一个任务的传统 EA 相比，MTO 的主要思想是同时解决多个独立的优化任务。由于**其强大的搜索能力和并行性**，自2015年提出以来，它引起了很大的研究关注。然而，据我们所知，没有对关于多用途物的全面调查作出任何努力，特别是在今后的趋势和挑战方面。因此，本文的意图是提出填补这一空白的尝试。

## 多因素遗传启发的多因素进化算法（MFEA）
### 个体的一些概念
![](Pasted%20image%2020220902150823.png)
- 个体在任务j上的**因子代价**:函数值和约束违反度相加,类似在任务j上的适应值函数
- 个体在任务j上的**因子等级**:由因子代价排序得到的个体在种群中的**索引**.
- 个体的**技能因子**:该个体适合哪个任务的求解,是可以从其父母那里继承的文化特征
- 个体的**适应度标量**:对于所有任务,个体能取得的**最高因子等级**即**某个个体在所有与它具有相同技能因子的个体里函数值排名的倒数**,多任务框架中的统一性能标准,当两个个体的适应度标量关系为φa>φb时，称为个体pa**支配**pb，记作pa≫pb。
### MFEA的关键特征
MFEA有两个关键特征，称为分类配接和选择性模仿
#### 分类配接
分类配接机制不仅允许来自同一任务的父级之间的标准任务内交叉（第 13-15 行），还允许不同优化实例之间的任务间交叉（第 16-18 行）。
识转移的强度由标记为随机配接概率（rmp）的用户定义参数控制。由于突变在遗传算法中至关重要，因此在所有新生成的候选药物上应用突变的MFEA可能会获得更好的性能（第20-23行）。
由于每个新生成的个人都分配了技能因素，因此仅对与该技能因素相对应的任务（第24行）对个人进行评估。评估后，整个人群获得新的排名值，从而获得新的技能因子和标量适应性（第26-27行），然后用于选择下一代的幸存者（第28行）

在MFEA中，父代之间**会倾向与自己文化背景相同（即技能因子ττ相同）的进行交配**

而对于**文化背景不同的两个个体**，它们之间交配的概率由随机交配概率rmp（random mating probability）决定。

rmp用于平衡局部搜索空间的开发和全局搜索空间的探索。若设定rmp为1，则意味着个体之间的交配是完全随机的，rmp为0则意味着完全不允许不同文化背景的个体进行交配，这容易陷入局部最优解。因此需要选择一个合适的rmp，使算法能在局部搜索与全局搜索之间达到良好的平衡。
在本文中，设定rmp为0.3。当两个个体不满足如上的交配条件时，则会通过变异来产生后代

**因此每个子代会有一个父代(变异产生)或两个父代(交叉产生)**
```python
从current-pop中随机选择两个父代个体pa和pb。
1、产生一个[0,1]之间的随机数rand。
2、if (ta == tb) or (rand < rmp) then
	(1)、父代个体pa与pb交叉，产生后代ca和cb。
3、else
	(1)、父代pa轻微变异产生后代ca。
	(2)、父代pb轻微变异产生后代cb。
4、end if

```
#### 选择性模仿
如果每一个个体都要在所有任务上进行评估，算法的时间复杂的会很大，并且这也没有必要.
选择性模仿源于垂直文化传播的模因概念，其目的是通过仅评估个人分配的任务来减轻计算负担。
因为在MFO中我们的目的是找到所有任务的最优解，而不是用一个解去解决所有任务。因此MFEA中使用了一种选择性评估的机制，**对于个体而言，我们只需要关心它最擅长的那个任务，只评估它表现最好的那个任务即可。** 当个体产生后代后，后代擅长的任务则首先通过垂直文化传播确定，其过程如算法3所示。

- **如果有两个父代,则随机模仿其中一个父代(即只对其模仿的父代的技能因子任务评估)**
- **如果有一个父代,则模仿唯一父代**
- **未评估的任务的因子损失设为无穷大**
```python
对于一个个体c，它会有两个父代（pa和pb）或者只有一个父代（pa或pb）--见算法2。

1、if (c有两个父代) then
	(1)、产生一个0到1之间的随机数rand。
	(2)、if (rand<0.5) then
			c模仿pa -> 该后代仅在任务ta时进行评估（ta为pa的技能因子skill factor）。
	(3)else
			c模仿pb -> 该后代仅在任务tb时进行评估。
	(4)end if
2、else
	c模仿它唯一的一个父代 -> 该后代仅在其父代任务上进行评估。
3、end if
4、人为地将未评估的任务中c的因子损失（Factorial Cost）设置为无穷大。

```
### MFEA-II的关键特征
主要目标是提出一个促进知识转移的策略(rmp > 0)，同时减轻负面的任务间交互。
新的**基于数据驱动的在线学习方式**来估计rmp的值
通过技能因子的分布估计rmp

### MFEA-II断点证明
![[MFEAII断点记录.excalidraw]]
![](Pasted%20image%2020220902160030.png)